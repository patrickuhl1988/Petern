<!DOCTYPE html>
<html lang="de">
<!-- v3.1 - Section order: Pet today, Peteritis, What/Who/Strategies -->
<head>
  <meta charset="UTF-8">
  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Heute Petern? â€“ Dein Entscheidungshelfer</title>
  <script>
  (function(){
    var t={de:{title:"ğŸ›‹ï¸ Heute Petern?",tagline:"Dein Entscheidungshelfer fuer den inneren Couch-Potato",whoIsPeter:"ğŸ‘¤ Wer ist Peter?",peternWhatTitle:"ğŸ›‹ï¸ Was ist \"Petern\"?",peternWhatIntro:"Wir kennen die Karens, die sofort eskalieren. Hier kommen die Peters â€“ Meister des hoeflichen Nicht-Zusagens.",peternWhatDefinition:"Petern = geplantes Nichtstun mit perfekter Ausrede. Alles wird verschoben, verwaschen und elegant vermieden.",peternWhatExamples:"Typisch: Couch, mal schauen, Exit-Strategien und am Ende daheim mit Tech-Ausrede.",manual:"ğŸ“‹ Strategien gegen den Peter",whatsOn:"ğŸ”¥ Mission anstehend?",peterReaction:"Wie wuerde Peter reagieren, wenn du ihn fragst, ob er es selbst ausprobiert?",activityPlaceholder:"z.B. Feiern, Sport, Kino, Treffen...",btnDecide:"Soll ich oder soll ich nicht?",quickSelect:"Schnellauswahl:",copyExcuse:"ğŸ“‹ Ausrede kopieren",decideAgain:"Nochmal entscheiden",alibiTitle:"ğŸ“¨ Eigene Peter-Ausreden",alibiIntro:"Klick auf \"Peter-Ausrede generieren\" â€“ dann hast du einen Text zum Vorlesen oder Senden.",generateAlibi:"Eigene Peter-Ausrede generieren",copy:"ğŸ“‹ Kopieren",historyTitle:"ğŸ“œ Letzte Entscheidungen",clearHistory:"Verlauf leeren",dailyTitle:"ğŸ² Petern des Tages",newDailyExcuse:"Neue Tages-Ausrede",phrasesTitle:"ğŸ’¬ Peter-Standardphrasen",phrasesIntro:"Mal schauen, Ich meld mich spaeter â€¦",newPhrase:"Neue Phrase",exitTitle:"ğŸšª Exit-Strategie (wenn du doch zugesagt hast)",exitIntro:"Bau dir eine Hintertuer ein.",generateExit:"Exit-Strategie generieren",peteritisTitle:"ğŸ©º Peteritis-Check",peteritisIntro:"Habe ich eine Peteritis? Und wenn ja, in welcher Auspraegung?",measurePeteritis:"Peteritis messen",peterExcuseTitle:"\ud83c\udf6b Peter-Ausrede",peterExcuseIntro:"Was brauchst du? Eine Peter-Ausrede?",peterExcusePlaceholder:"z.B. Kind krank, Paket kommt, zu muede...",generatePeterExcuse:"Ausrede generieren",footer:"Mit 90 % Wahrscheinlichkeit sagt dir diese App, was du eh schon denkst. ğŸ›‹ï¸",visitorLabel:"Besucher",commentsTitle:"ğŸ’¬ Peters GÃ¤stebuch",commentsIntro:"Lass eine nette GrÃ¼ÃŸe an Peter da oder erzÃ¤hl von deinem besten Peter-Moment. Sei kreativ â€“ aber bitte freundlich und nicht beleidigend. Danke und GrÃ¼ÃŸe.",commentsNamePlaceholder:"Dein Name (optional)",commentsPlaceholder:"z.B. GrÃ¼ÃŸ dich, Peter! Mein bester Moment: Ich hab 'Paket kommt' gesagt und bin auf der Couch geblieben. 10/10.",commentsSubmit:"Anonymous posten",commentsNote:"Kommentare werden lokal gespeichert (nur auf deinem GerÃ¤t sichtbar).",commentsNoteShared:"Kommentare werden gemeinsam gespeichert â€“ alle Besucher sehen sie.",commentsEmpty:"Noch keine Kommentare. Du kannst der erste sein â€“ anonym.",commentsAnonymous:"Anonym",manualIntro:"So erreichst du Peter (oder dich selbst):",manual1:"Druck rausnehmen â€“ wenn andere planen und keinen Druck machen, steigt die Teilnahmechance.",manual2:"Konkrete Termine vorschlagen â€“ er schlaegt selten selbst neue Daten vor.",manual3:"Anika und Theo einbeziehen â€“ wenn sie dabei sind, kommt er eher (dann aber zeitlich begrenzt).",manual4:"Nicht so lange akzeptieren â€“ dann baut er weniger Exit-Strategien ein.",manual5:"Gaming/Home-Aktivitaet anbieten â€“ geht eher, wenn es bequem und zu Hause ist.",manual6:"Bei neuem Grill / neuer Idee: schnell einen festen Termin machen, sonst versandet es.",manual7:"Sport/Fitness: Lauf ich morgen funktioniert nie. Besser: Komm mit mir JETZT zum Spaziergang.",manual8:"Feiern/Club: Einladung 2 Wochen vorher bringen wenig. Kurzfristig (2-3 Tage) fragen.",manual9:"Kino/Restaurant: Eigeninitiative zeigen â€“ Ich reservier fuer Freitag, du kommst mit?",manual10:"Wenn er sagt mal schauen: Nachfragen wann er sich meldet. Sonst kommt nichts.",manual11:"Gruppendruck nutzen: Alle kommen, auch Theo und Anika â€“ dann steigt die Chance.",manual12:"Feste Zeiten: Kurz von 15-17 Uhr geht besser als irgendwann am Wochenende.",manual13:"Alternative anbieten: Wenn nicht Kino, dann Spieleabend bei euch?",manual14:"Keine offenen Fragen: Statt Wollen wir mal was machen? lieber Samstag 14 Uhr Kaffee?",manual15:"Realistisch bleiben: 90 % Ausrede ist normal. 10 % Zusage feiern wie einen Sieg.",peter1:"Peter (*1987), Beamter (Polizist), verheiratet mit Anika, Vater von Theo (1) und Amelia (12). (Namen aus Identitaetsgruenden geaendert.) Verdient gut, achtet auf sein Auftreten â€“ und will bloss nicht negativ auffallen.",peter2:"ğŸ›‹ï¸ Selten klares Ja/Nein. Standards: Mal schauen, Ich meld mich spaeter, Ist gerade schwierig. Liebt Couch, Cola Zero, iPad, ruhige Abende. Aktivitaeten existieren oft nur theoretisch.",peter3:"Typisch: 90 % Ausrede, 10 % Teilnahme. Wenn er zusagt: Exit-Strategien. Klassiker: Kind unruhig/krank, Anika gestresst, Erkaeltung, Spuelmaschine, Update, Arbeit, Muedigkeit. Technik-Ausreden besonders beliebt.",peter4:"Anika hat mehr Einfluss; Peter macht viel im Haushalt, ordnet sich oft unter. Wenn Anika und Theo dabei sind, kommt er eher â€“ dann aber zeitlich begrenzt. Eigene Einladungen selten, Absagen planbar. Frueher aktiv/sportlich, heute: Rennrad, Trips â€“ Irgendwann mal. Kein Boesewicht â€“ Meister des unverbindlichen Lebens. Natuerlicher Zustand: Couch + spaeter.",petTodayTitle:"\ud83c\udf6b Soll ich heute petern?",petTodayIntro:"Was steht heute an? Peter sagt dir, ob du petern solltest oder nicht.",petTodayPlaceholder:"z.B. Mit Freunden ins Kino eingeladen",petTodayQuick:"Vorschlaege:",btnPetOrNot:"Petern oder nicht?",petTodayChipL:["Kino","Sport","Feier","Grillen","Treffen","Frueh aufstehen"],petTodayChipA:["Mit Freunden ins Kino eingeladen","Sport / Joggen","Geburtstagsfeier","Grillen im Park","Treffen mit Kollegen","Frueh aufstehen"],chipL:["Feiern","Sport","Kino","Treffen","Frueh aufstehen","Einkaufen"],chipA:["Feiern gehen","Sport","Kino","Treffen mit Freunden","Frueh aufstehen","Einkaufen"]},en:{title:"ğŸ›‹ï¸ Petern Today?",tagline:"Your decision helper for the inner couch potato",whoIsPeter:"ğŸ‘¤ Who is Peter?",peternWhatTitle:"ğŸ›‹ï¸ What is \"Petern\"?",peternWhatIntro:"We all know the Karens. Meet the Peters â€“ pros at politely doing nothing.",peternWhatDefinition:"Petern = planned inactivity with premium excuses. Everything gets delayed, blurred and gracefully avoided.",peternWhatExamples:"Typical: Couch strategy, we'll see, exit plans and staying home with a tech reason.",manual:"ğŸ“‹ How to deal with a Peter",whatsOn:"ğŸ”¥ Mission incoming?",peterReaction:"How would Peter react if you asked him to try it himself?",activityPlaceholder:"e.g. Party, Sports, Cinema, Meet-up...",btnDecide:"Should I or shouldn't I?",quickSelect:"Quick select:",copyExcuse:"ğŸ“‹ Copy excuse",decideAgain:"Decide again",alibiTitle:"ğŸ“¨ Generate Your Own Peter Excuses",alibiIntro:"Click \"Generate Peter excuse\" â€“ then you have a text to read aloud or send.",generateAlibi:"Generate your own Peter excuse",copy:"ğŸ“‹ Copy",historyTitle:"ğŸ“œ Recent decisions",clearHistory:"Clear history",dailyTitle:"ğŸ² Petern of the day",newDailyExcuse:"New daily excuse",phrasesTitle:"ğŸ’¬ Peter's standard phrases",phrasesIntro:"We'll see, I'll let you know later â€¦",newPhrase:"New phrase",exitTitle:"ğŸšª Exit strategy (when you said yes)",exitIntro:"Build yourself a back door.",generateExit:"Generate exit strategy",peteritisTitle:"ğŸ©º Peteritis check",peteritisIntro:"Do I have a Peteritis? And if so, in what stage?",measurePeteritis:"Measure Peteritis",peterExcuseTitle:"\ud83c\udf6b Peter Excuse",peterExcuseIntro:"What do you need? A Peter excuse?",peterExcusePlaceholder:"e.g. kid sick, package arriving, too tired...",generatePeterExcuse:"Generate excuse",footer:"With 90% probability, this app tells you what you were already thinking. ğŸ›‹ï¸",visitorLabel:"Visitors",commentsTitle:"ğŸ’¬ Peter's Guestbook",commentsIntro:"Leave a nice greeting for Peter or tell us about your best Peter moment. Be creative â€“ but please keep it friendly and not offensive. Thank you and greetings.",commentsNamePlaceholder:"Your name (optional)",commentsPlaceholder:"e.g. Hi Peter! My best moment: I said 'package arriving' and stayed on the couch. 10/10.",commentsSubmit:"Post anonymously",commentsNote:"Comments are saved locally (only visible on your device).",commentsNoteShared:"Comments are shared â€“ all visitors can see them.",commentsEmpty:"No comments yet. You could be the first â€“ anonymously.",commentsAnonymous:"Anonymous",manualIntro:"How to reach Peter (or yourself):",manual1:"Reduce pressure â€“ when others plan and don't push, participation chance increases.",manual2:"Suggest concrete dates â€“ he rarely suggests new dates himself.",manual3:"Include Anika and Theo â€“ if they're coming, he's more likely (but time-limited).",manual4:"Accept not too long â€“ then he builds fewer exit strategies.",manual5:"Offer gaming/home activities â€“ more likely when it's comfortable and at home.",manual6:"New grill / new idea: quickly set a firm date, or it fizzles out.",manual7:"Sports: I'll run tomorrow never works. Better: Come with me NOW for a short walk.",manual8:"Parties: Invitations 2 weeks ahead don't help. Ask last-minute (2-3 days).",manual9:"Cinema/restaurant: Take initiative â€“ I'll book for Friday, you in?",manual10:"When he says we'll see: Ask when he'll get back. Otherwise nothing happens.",manual11:"Use peer pressure: Everyone's coming, Theo and Anika too.",manual12:"Fixed times: Quick visit 3-5 pm works better than sometime this weekend.",manual13:"Offer alternative: If not cinema, then game night at yours?",manual14:"No open questions: Instead of Want to do something? try Saturday 2 pm coffee?",manual15:"Stay realistic: 90% excuse is normal. Celebrate the 10% yes.",peter1:"Peter (*1987), civil servant (police officer), married to Anika, father of Theo (1) and Amelia (12). (Names changed for identity reasons.) Earns well, cares about his appearance â€“ and just doesn't want to stand out negatively.",peter2:"ğŸ›‹ï¸ Rarely a clear yes/no. Standards: We'll see, I'll let you know later, It's tricky right now. Loves couch, Coke Zero, iPad, quiet evenings. Activities often only exist in theory.",peter3:"Typical: 90% excuse, 10% participation. When he agrees: exit strategies. Classics: child restless/sick, Anika stressed, cold, dishwasher, update, work, fatigue. Tech excuses especially popular.",peter4:"Anika has more influence; Peter does a lot at home, often defers. When Anika and Theo are coming, he's more likely â€“ but time-limited. Own invitations rare, declining predictable. Used to be active/sporty, now: road bike, trips â€“ Someday. Not a villain â€“ Master of the non-committal life. Natural state: couch + later.",petTodayTitle:"\ud83c\udf6b Should I Peter today?",petTodayIntro:"What's on today? Peter tells you whether you should Peter or not.",petTodayPlaceholder:"e.g. Invited to cinema with friends",petTodayQuick:"Suggestions:",btnPetOrNot:"Peter or not?",petTodayChipL:["Cinema","Sports","Party","BBQ","Meet-up","Early rise"],petTodayChipA:["Invited to cinema with friends","Sports / Jogging","Birthday party","BBQ in the park","Meeting with colleagues","Getting up early"],chipL:["Party","Sports","Cinema","Meet-up","Early rise","Shopping"],chipA:["Going to a party","Sports","Cinema","Meeting friends","Getting up early","Shopping"]}};
    var lang="de";try{lang=localStorage.getItem("petern-lang")||"de";}catch(e){}
    window.setPeternLang=function(l){
      if(l!=="de"&&l!=="en")return;
      if(window.applyPeternTranslations){window.applyPeternTranslations(l);return;}
      lang=l;try{localStorage.setItem("petern-lang",l);}catch(e){}
      var s=t[l]||t.de;
      document.querySelectorAll("[data-i18n]").forEach(function(el){var k=el.getAttribute("data-i18n");if(s[k]!==undefined)el.textContent=s[k];});
      document.querySelectorAll("[data-i18n-placeholder]").forEach(function(el){var k=el.getAttribute("data-i18n-placeholder");if(s[k]!==undefined)el.placeholder=s[k];});
      document.documentElement.lang=l;document.title=l==="en"?"Petern Today? â€“ Your Decision Helper":"Heute Petern? â€“ Dein Entscheidungshelfer";
      document.querySelectorAll(".lang-btn").forEach(function(btn){btn.classList.toggle("active",btn.getAttribute("data-lang")===l);});
      var chips=document.querySelectorAll(".quick-activities .chip[data-i18n-chip]");
      var labels=s.chipL||t.de.chipL;
      var activities=s.chipA||t.de.chipA;
      if(labels&&activities)chips.forEach(function(c,i){if(labels[i]){c.textContent=labels[i];c.setAttribute("data-activity",activities[i]||labels[i]);}});
      var ptChips=document.querySelectorAll(".pet-today-chips .chip");
      var ptL=s.petTodayChipL||t.de.petTodayChipL;
      var ptA=s.petTodayChipA||t.de.petTodayChipA;
      if(ptL&&ptA)ptChips.forEach(function(c,i){if(ptL[i]){c.textContent=ptL[i];c.setAttribute("data-activity",ptA[i]||ptL[i]);}});
      if(window.setNewDailyExcuse){var de=document.getElementById("daily-excuse");if(de&&!de.textContent.trim())window.setNewDailyExcuse();}
      if(window.renderHistory){window.renderHistory();}else{var list=document.getElementById("history-list");if(list){try{var h=JSON.parse(localStorage.getItem("petern-history")||"[]");list.innerHTML=h.length?h.map(function(x){return"<li><strong>"+x.activity+"</strong> \u2192 "+(x.type==="petern"?"\ud83c\udf6b":"\ud83d\udc4d")+" "+x.text.slice(0,40)+"... ("+x.time+")</li>";}).join(""):"<li>"+(l==="en"?"No decisions yet.":"Noch keine Entscheidungen.")+"</li>";}catch(x){list.innerHTML="<li>"+(l==="en"?"No decisions yet.":"Noch keine Entscheidungen.")+"</li>";}}}
    };
    function applyLangOnLoad(){window.setPeternLang(lang);}
    if(document.readyState==="loading"){document.addEventListener("DOMContentLoaded",applyLangOnLoad);}else{setTimeout(applyLangOnLoad,0);}
  })();
  </script>
  <link rel="stylesheet" href="style.css?v=45">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700&display=swap" rel="stylesheet">
</head>
<body>
  <div class="couch-bg"></div>

  <main class="container">
    <header class="header">
      <div class="header-top">
        <div class="lang-switcher">
          <button type="button" class="lang-btn active" data-lang="de" data-action="lang" aria-label="Deutsch">DE</button>
          <span class="lang-sep">|</span>
          <button type="button" class="lang-btn" data-lang="en" data-action="lang" aria-label="English">EN</button>
        </div>
      </div>
      <div class="couch-hero">
        <div class="petern-gif" aria-hidden="true">
          <svg viewBox="0 0 260 120" xmlns="http://www.w3.org/2000/svg">
            <!-- Blue couch -->
            <rect x="15" y="55" width="230" height="45" rx="6" fill="#4a7ba7" stroke="#2c5a7a"/>
            <rect x="25" y="28" width="210" height="32" rx="4" fill="#5a8bb7" stroke="#2c5a7a"/>

            <!-- Peter STANDING (entering, feet down) - visible 0-45% -->
            <g class="peter-standing" stroke="#2d2520" stroke-width="1">
              <circle cx="55" cy="22" r="10" fill="#f0c9a8"/>
              <circle cx="60" cy="20" r="1.5" fill="#2d2520"/>
              <ellipse cx="62" cy="24" rx="2" ry="1.5" fill="#d4b896"/>
              <path d="M48 18 Q55 14 62 18" stroke="#2d2520" stroke-width="3" fill="none" stroke-linecap="round"/>
              <rect x="48" y="30" width="14" height="22" rx="2" fill="#6b7b8c"/>
              <rect x="58" y="28" width="6" height="18" rx="1" fill="#f0c9a8" transform="rotate(-30 61 37)"/>
              <rect x="62" y="14" width="10" height="22" rx="2" fill="#c41e2a"/>
              <rect x="63" y="18" width="8" height="2" fill="#fff"/>
              <text x="67" y="28" text-anchor="middle" fill="#fff" font-size="5" font-weight="bold">0</text>
              <rect x="46" y="50" width="8" height="22" rx="2" fill="#4a5568"/>
              <rect x="56" y="50" width="8" height="22" rx="2" fill="#4a5568"/>
              <rect x="45" y="70" width="10" height="6" rx="1" fill="#2d3748"/>
              <rect x="55" y="70" width="10" height="6" rx="1" fill="#2d3748"/>
            </g>

            <!-- Peter LYING (head RIGHT, higher at couch junction, feet left, feet up) - visible 50-100% -->
            <g class="peter-lying" stroke="#2d2520" stroke-width="1">
              <!-- Pillow under head -->
              <ellipse cx="218" cy="60" rx="24" ry="14" fill="#d4c4a8" stroke="#b8a890"/>
              <!-- Head right -->
              <circle cx="218" cy="54" r="11" fill="#f0c9a8"/>
              <circle cx="212" cy="52" r="1.5" fill="#2d2520"/>
              <ellipse cx="208" cy="56" rx="2" ry="1.5" fill="#d4b896"/>
              <path d="M210 48 Q218 44 226 48" stroke="#2d2520" stroke-width="3" fill="none" stroke-linecap="round"/>
              <!-- Neck -->
              <rect x="212" y="62" width="8" height="12" rx="2" fill="#f0c9a8"/>
              <!-- Upper body (shorter belly) -->
              <rect x="158" y="58" width="54" height="20" rx="4" fill="#6b7b8c"/>
              <!-- Arm with Cola Zero -->
              <rect x="175" y="54" width="6" height="20" rx="2" fill="#f0c9a8" transform="rotate(38 178 64)"/>
              <rect x="168" y="44" width="11" height="24" rx="2" fill="#c41e2a"/>
              <rect x="169" y="48" width="9" height="2" fill="#fff"/>
              <text x="173" y="61" text-anchor="middle" fill="#fff" font-size="6" font-weight="bold">0</text>
              <!-- Arm with iPad -->
              <rect x="208" y="65" width="6" height="14" rx="1" fill="#f0c9a8" transform="rotate(-12 211 72)"/>
              <rect x="188" y="67" width="22" height="16" rx="2" fill="#1a1a1a" stroke="#333"/>
              <rect x="190" y="69" width="18" height="12" rx="1" fill="#2d3748"/>
              <!-- Legs (longer thighs & calves) stretched left, feet up -->
              <rect x="136" y="64" width="22" height="16" rx="2" fill="#4a5568"/>
              <rect x="112" y="64" width="24" height="16" rx="2" fill="#4a5568"/>
              <rect x="120" y="52" width="16" height="20" rx="2" fill="#4a5568" transform="rotate(20 128 62)"/>
              <rect x="96" y="52" width="16" height="20" rx="2" fill="#4a5568" transform="rotate(-20 104 62)"/>
              <ellipse cx="108" cy="44" rx="9" ry="5" fill="#2d3748"/>
              <ellipse cx="88" cy="44" rx="9" ry="5" fill="#2d3748"/>
            </g>
          </svg>
        </div>
        <div class="couch-label">
          <h1 data-i18n="title">ğŸ›‹ï¸ Heute Petern?</h1>
          <p class="tagline" data-i18n="tagline">Dein Entscheidungshelfer fÃ¼r den inneren Couch-Potato</p>
        </div>
      </div>
    </header>

    <section class="extras pet-today-first">
      <div class="extra-card pet-today-card">
        <h3 data-i18n="petTodayTitle">ğŸ›‹ï¸ Soll ich heute petern?</h3>
        <p class="pet-today-intro" data-i18n="petTodayIntro">Was steht heute an? Peter sagt dir, ob du petern solltest oder nicht.</p>
        <input type="text" id="pet-today-activity" class="pet-today-input" data-i18n-placeholder="petTodayPlaceholder" placeholder="z.B. Mit Freunden ins Kino eingeladen">
        <button type="button" class="btn btn-primary btn-pet-today-main" id="btn-pet-today" data-action="pet-today" data-i18n="btnPetOrNot">Petern oder nicht?</button>
        <div class="quick-activities pet-today-chips">
          <span class="quick-label" data-i18n="petTodayQuick">VorschlÃ¤ge:</span>
          <button type="button" class="chip" data-activity="Mit Freunden ins Kino eingeladen">Kino</button>
          <button type="button" class="chip" data-activity="Sport / Joggen">Sport</button>
          <button type="button" class="chip" data-activity="Geburtstagsfeier">Feier</button>
          <button type="button" class="chip" data-activity="Grillen im Park">Grillen</button>
          <button type="button" class="chip" data-activity="Treffen mit Kollegen">Treffen</button>
          <button type="button" class="chip" data-activity="FrÃ¼h aufstehen">FrÃ¼h aufstehen</button>
        </div>
        <div class="pet-today-result" id="pet-today-result"></div>
      </div>
      <div class="extra-card peteritis-card">
        <h3 data-i18n="peteritisTitle">ğŸ©º Peteritis-Check</h3>
        <div class="peteritis-result" id="peteritis-result" data-i18n="peteritisIntro">Habe ich eine Peteritis? Und wenn ja, in welcher AusprÃ¤gung?</div>
        <button type="button" class="btn btn-primary" id="btn-peteritis" data-i18n="measurePeteritis" data-action="peteritis">Peteritis messen</button>
      </div>
      <div class="extra-card peter-excuse-card">
        <h3 data-i18n="peterExcuseTitle">ğŸ›‹ï¸ Peter-Ausrede</h3>
        <p class="peter-excuse-intro" data-i18n="peterExcuseIntro">Was brauchst du? Eine Peter-Ausrede?</p>
        <input type="text" id="peter-excuse-input" class="peter-excuse-input" data-i18n-placeholder="peterExcusePlaceholder" placeholder="z.B. Kind krank, Paket kommt, zu mÃ¼de...">
        <button type="button" class="btn btn-primary" id="btn-peter-excuse" data-i18n="generatePeterExcuse" data-action="peter-excuse">Ausrede generieren</button>
        <div class="peter-excuse-result" id="peter-excuse-result"></div>
      </div>
    </section>

    <section class="peter-section">
      <button type="button" class="collapse-trigger" id="btn-was-ist-petern" data-target="was-ist-petern-content" aria-expanded="false">
        <span data-i18n="peternWhatTitle">ğŸ›‹ï¸ Was ist â€Peternâ€œ?</span>
        <span class="collapse-icon" aria-hidden="true">â–¼</span>
      </button>
      <div class="collapse-content" id="was-ist-petern-content" hidden>
        <div class="petern-definition">
          <p data-i18n="peternWhatIntro">Wir kennen die Karens, die sofort eskalieren. Hier kommen die Peters â€“ Meister des hÃ¶flichen Nicht-Zusagens.</p>
          <p data-i18n="peternWhatDefinition">Petern bedeutet geplantes Nichtstun mit perfekter Ausrede. Statt klar Ja oder Nein zu sagen, wird verschoben, verwaschen und elegant vermieden.</p>
          <p data-i18n="peternWhatExamples">Typisch: Couch, â€mal schauenâ€œ, Exit-Strategien â€“ und am Ende doch daheimbleiben mit einer technisch klingenden Ausrede.</p>
        </div>
      </div>
    </section>

    <section class="result-section hidden" id="result-section">
      <div class="result-card" id="result-card">
        <div class="result-icon" id="result-icon"></div>
        <h2 id="result-title"></h2>
        <p class="result-text" id="result-text"></p>
        <p class="result-sub" id="result-sub"></p>
        <div class="petern-level" id="petern-level"></div>
        <div class="result-actions">
          <button type="button" class="btn btn-secondary" id="btn-copy" data-i18n="copyExcuse">ğŸ“‹ Ausrede kopieren</button>
          <button type="button" class="btn btn-secondary" id="btn-again" data-i18n="decideAgain">Nochmal entscheiden</button>
        </div>
      </div>
    </section>

    <section class="comments-section extra-card">
      <h3 data-i18n="commentsTitle">ğŸ’¬ Petern-GÃ¤stebuch</h3>
      <p class="comments-intro" data-i18n="commentsIntro">Feedback, News, WÃ¼nsche oder dein bestes Peter-Moment â€“ anonym. Mal schauen, wer sich traut â€¦</p>
      <div class="comments-form">
        <input type="text" id="comment-name" class="comments-name-input" data-i18n-placeholder="commentsNamePlaceholder" placeholder="Dein Name (optional)" maxlength="50">
        <textarea id="comment-input" class="comments-textarea" data-i18n-placeholder="commentsPlaceholder" placeholder="z.B. GrÃ¼ÃŸ dich, Peter! Mein bester Moment: Ich hab 'Paket kommt' gesagt und bin auf der Couch geblieben. 10/10." rows="3" maxlength="500"></textarea>
        <span class="comments-chars"><span id="comment-char-count">0</span>/500</span>
        <button type="button" class="btn btn-primary" id="btn-add-comment" data-action="add-comment" data-i18n="commentsSubmit">Anonymous posten</button>
      </div>
      <p class="comments-note" data-i18n="commentsNote">Kommentare werden lokal gespeichert (nur auf deinem GerÃ¤t sichtbar).</p>
      <div class="comments-list" id="comments-list"></div>
    </section>

    <footer class="footer">
      <p data-i18n="footer">Mit 90 % Wahrscheinlichkeit sagt dir diese App, was du eh schon denkst. ğŸ›‹ï¸</p>
      <p class="visitor-counter"><span data-i18n="visitorLabel">Besucher</span>: <span id="visitor-count">â€¦</span></p>
    </footer>
  </main>

  <script>
    window.PETERN_SUPABASE_URL = window.PETERN_SUPABASE_URL || "https://pmhuppxiprknvfbofmpd.supabase.co";
    window.PETERN_SUPABASE_ANON_KEY = window.PETERN_SUPABASE_ANON_KEY || "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBtaHVwcHhpcHJrbnZmYm9mbXBkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzAxODc3MDMsImV4cCI6MjA4NTc2MzcwM30._MKUDaLfQj-Vs1unM5OR53gtMeXQ6LApELSCj3OMXpA";
  </script>
  <script src="supabase-config.js?v=2"></script>
  <script src="script.js?v=59"></script>
  <script src="peteritis-core.js?v=1"></script>
  <script>
  (function(){
  var lang=document.documentElement.lang==="en"?"en":"de";
  var EXIT_DE=["Nicht so lange vielleicht.","Je nachdem wie Theo drauf ist.","Ich schau, dass ich mal vorbeikomme.","Ohne Garantie, aber ich versuch's.","Kurz vorbeischauen geht vielleicht.","Muss ich mit Anika absprechen, wie lang.","So gegen â€¦ mal schauen, ob ich schaff.","Keine Ahnung ob ich lange kann.","Ich meld mich, wenn ich losfahr.","Wenn es passt, komme ich.","Kurz reingeschaut, mehr geht heute nicht.","Theo koennte jeden Moment â€¦ du weisst schon.","Habe nur ein kurzes Zeitfenster.","Komme vielleicht spaeter dazu.","Anika ruft bestimmt gleich â€“ muss erreichbar bleiben."];
  var EXIT_EN=["Maybe not for too long.","Depends how Theo is doing.","I will try to swing by.","No guarantees, but I'll try.","Quick stop might work.","Need to check with Anika how long.","Around â€¦ we'll see if I can make it.","No idea if I can stay long.","I'll text when I'm heading out.","If it works, I'll come.","Just popping in, can't stay long today.","Theo could need me any moment â€¦ you know.","Only have a small window.","Might swing by later.","Anika will probably call soon â€“ need to stay reachable."];
  var ALIBI_DE=["Hey, sorry â€¦ bin heute total durch. Naechstes Mal?","Aehm, ich bleib heute lieber daheim. Sorry!","Hey! Irgendwas ist dazwischengekommen. Bis bald!","Hey! Router spinnt, muss ich checken. Heute leider nichts.","Sorry â€¦ Theo hat schlecht geschlafen, ich auch. Naechstes Mal!","Hey â€¦ Anika ist gestresst, ich muss unterstuetzen. Bis bald!","Aehm, Akku leer. Mein Akku. Brauch Ruhe. Sorry!","Hey! Sport heute? Mein Koerper hat Nein gesagt. Sorry!","Sorry, bin mental schon im Bett. Rausgehen geht nicht mehr.","Hey â€¦ Download laeuft noch, kann nicht weg. Morgen vielleicht?","Hey! Paket kommt heute. Muss zu Hause sein. Bis bald!","Hey! Social Battery ist bei null. Brauch einen Tag Pause.","Sorry â€¦ zu viele Menschen diese Woche. Brauch einen Tag fuer mich.","Hey, bin grad in nem Flow. Couch-Flow. Geht nicht. Danke!","Aehm, bin schon im Pyjama. Mental und physisch. Heute nein."];
  var ALIBI_EN=["Hey, sorry â€¦ I'm totally drained today. Next time?","Um, I'll stay home today. Sorry!","Hey! Something came up. See you soon!","Hey! Router's acting up, need to check it. Nothing today.","Sorry â€¦ Theo slept badly, so did I. Next time!","Hey â€¦ Anika's stressed, I need to support. See you soon!","Um, battery dead. My battery. Need rest. Sorry!","Hey! Sports today? My body said no. Sorry!","Sorry, mentally already in bed. Can't go out anymore.","Hey â€¦ download still running, can't leave. Maybe tomorrow?","Hey! Package arrives today. Need to be home. See you!","Hey! Social battery at zero. Need a day off.","Sorry â€¦ too many people this week. Need a day for myself.","Hey, I'm in a flow. Couch flow. Can't go. Thanks!","Um, already in my PJs. Mentally and physically. No today."];
  var PHRASE_DE=["Mal schauen.","Ich meld mich spaeter.","Ist gerade schwierig.","Muss ich kurz mit Anika klaeren.","Je nachdem wie Theo drauf ist.","Nicht so lange vielleicht.","Irgendwann mal.","Sag ich dir Bescheid.","Schauen wir.","Weiss ich noch nicht so genau.","Muss ich mir ueberlegen.","Klingt gut, aber â€¦ mal schauen.","Keine Ahnung ob ich kann.","Bin mir nicht sicher.","Will nichts versprechen.","Kommt drauf an, wie der Tag laeuft.","Muss ich mit Anika absprechen.","Meld mich, sobald ich weiss.","Habe da noch was offen.","Bin noch nicht so weit."];
  var PHRASE_EN=["We'll see.","I'll let you know later.","It's tricky right now.","Need to check with Anika first.","Depends how Theo's doing.","Maybe not for too long.","Someday.","I'll tell you.","We'll see.","Not sure yet.","Need to think about it.","Sounds good, but â€¦ we'll see.","No idea if I can.","Not sure yet.","Don't want to promise.","Depends how the day goes.","Need to run it by Anika.","I'll let you know as soon as I know.","Got something else pending.","Not quite there yet."];
  var AUSREDE_DE=["Bin heute komplett durch.","Morgen vielleicht?","Hab grad keine Energie.","Couch gewinnt heute."];
  var AUSREDE_EN=["I'm completely drained today.","Maybe tomorrow?","Zero energy right now.","Couch wins today."];
  if(!window.generateExitStrategy){window.generateExitStrategy=function(){var el=document.getElementById("exit-strategy-text");var l=document.documentElement.lang==="en"?"en":"de";var arr=l==="en"?EXIT_EN:EXIT_DE;if(el)el.textContent=arr[Math.floor(Math.random()*arr.length)];};}
  if(!window.generateAlibiSprachnachricht){window.generateAlibiSprachnachricht=function(){var el=document.getElementById("alibi-text");var l=document.documentElement.lang==="en"?"en":"de";var arr=l==="en"?ALIBI_EN:ALIBI_DE;window.lastAlibi=arr[Math.floor(Math.random()*arr.length)];if(el){el.textContent=window.lastAlibi;el.classList.add("alibi-generated");}};}
  if(!window.generateStandardphrase){window.generateStandardphrase=function(){var el=document.getElementById("standardphrase-text");var l=document.documentElement.lang==="en"?"en":"de";var arr=l==="en"?PHRASE_EN:PHRASE_DE;if(el)el.textContent=arr[Math.floor(Math.random()*arr.length)];};}
  if(!window.setNewDailyExcuse){window.setNewDailyExcuse=function(){var el=document.getElementById("daily-excuse");var l=document.documentElement.lang==="en"?"en":"de";var arr=l==="en"?AUSREDE_EN:AUSREDE_DE;var exc=arr[Math.floor(Math.random()*arr.length)];if(el)el.textContent=exc;try{localStorage.setItem("petern-daily",exc);}catch(x){};};}
  if(!window.clearHistory){window.clearHistory=function(){try{localStorage.setItem("petern-history","[]");}catch(x){};var list=document.getElementById("history-list");var l=document.documentElement.lang==="en"?"en":"de";if(list)list.innerHTML="<li>"+(l==="en"?"No decisions yet.":"Noch keine Entscheidungen.")+"</li>";};}
  if(!window.onDecide){window.onDecide=function(){var inp=document.getElementById("activity");var t=inp&&inp.value.trim()||(document.documentElement.lang==="en"?"something":"irgendwas");var l=document.documentElement.lang==="en"?"en":"de";var arr=l==="en"?AUSREDE_EN:AUSREDE_DE;var petern=Math.random()<0.9;var text=petern?arr[Math.floor(Math.random()*arr.length)]:(l==="en"?"Okay, you can go. See you on the couch later.":"Okay, du darfst. Wir sehen uns auf der Couch.");window.lastResult={copyText:text};var sec=document.getElementById("result-section");var card=document.getElementById("result-card");var icon=document.getElementById("result-icon");var title=document.getElementById("result-title");var txt=document.getElementById("result-text");var sub=document.getElementById("result-sub");var lvl=document.getElementById("petern-level");if(sec){sec.classList.remove("hidden");}if(card){card.classList.remove("petern","go");card.classList.add(petern?"petern":"go");}if(icon)icon.textContent=petern?"\ud83c\udf6b":"\ud83d\udc4d";if(title)title.textContent=petern?(l==="en"?"Better not.":"Lieber nicht."):(l==="en"?"You're allowed.":"Darfst du.");if(txt)txt.textContent=text;if(sub)sub.textContent='"'+t+'" â€“ '+(petern?(l==="en"?"Better not.":"Lieber nicht."):(l==="en"?"You're allowed.":"Darfst du."));if(lvl){lvl.textContent=petern?(l==="en"?"Petern-Level: Couch King":"Petern-Level: Couch-Koenig"):"";lvl.style.display=petern?"block":"none";}};}
  if(!window.runPeterExcuse){window.runPeterExcuse=function(){var inp=document.getElementById("peter-excuse-input");var res=document.getElementById("peter-excuse-result");var l=document.documentElement.lang==="en"?"en":"de";var arr=l==="en"?["We'll see.","Kid's sick, I'll check.","Need to check with Anika.","Package today.","Depends how Theo's doing."]:["Mal schaun.","Kind krank, schau ich.","Muss mit Anika absprechen.","Paket kommt.","Je nachdem wie Theo drauf ist."];var exc=arr[Math.floor(Math.random()*arr.length)];var u=(inp&&inp.value.trim())||"";var pre=u?(l==="en"?"For \""+u+"\"? Peter says: ":"FÃ¼r \""+u+"\"? Peter sagt: "):(l==="en"?"Peter says: ":"Peter sagt: ");if(res){res.innerHTML='<p class="peter-excuse-answer">'+pre+'<strong>'+exc+'</strong></p>';res.classList.add("peter-excuse-done");}};}
  if(!window.onPetToday){window.onPetToday=function(){var inp=document.getElementById("pet-today-activity");var act=inp&&inp.value.trim()||(document.documentElement.lang==="en"?"something":"irgendwas");var l=document.documentElement.lang==="en"?"en":"de";var petern=Math.random()<0.98;var yesDE=["Ja, heute solltest du petern. Couch gewinnt.","Ja, heute petern! Daheimbleiben ist die richtige Wahl.","Definitiv petern. Dein innerer Couch-Potato hat recht.","Ja! Heute heisst die Antwort: Petern.","98 % sagen: Ja, heute petern. Du gehoerst dazu.","Er denkt drÃ¼ber nach. Er schaut sich das an. Klassiker Peter.","Mal schauen â€¦ sagt Peter. Und bleibt auf der Couch.","Peter schaut. Peter denkt. Peter petert.","Typisch Peter: kurz drÃ¼ber nachdenken, dann â€“ nee, lieber petern.","Peter nickt nachdenklich. Dann: Heute nicht. Couch ruft.","Hmm â€¦ Peter Ã¼berlegt. Peter entscheidet: Petern.","Peter hat sich das angeschaut. Seine Antwort: Daheim bleibt besser.","Nach reiflicher Ueberlegung: Ja, heute petern. Kollegen verstehen das.","Peter prÃ¼ft die Option. Ergebnis: Couch gewinnt. Wieder.","Peter schaut sich das an. Peter denkt. Peter sagt: Nee, heute lieber nicht.","Klassischer Peter-Moment: nachdenken, schauen, dann â€“ petern.","Peter Ã¼berlegt â€¦ und wÃ¤hlt wie immer: Couch vor AktivitÃ¤t.","Typisch: Peter denkt drÃ¼ber nach, schaut es sich an â€“ und bleibt daheim.","Peter hat es sich angesehen. Sein Urteil: Petern. Definitiv.","Mal schauen, sagt Peter â€“ und meint damit: nein. Heute petern.","Peter analysiert. Peter entscheidet. Peter petert. Wie immer.","Er schaut sich das an, denkt nach â€“ und bleibt. Classic Peter.","Peter denkt: Hmm. Peter handelt: Petern. Fertig.","Nach kurzer Bedenkzeit: Peter bleibt. Couch 1, Welt 0.","Peter schaut. Peter nickt. Peter petert. So lÃ¤uft das.","Couch ruft. Du kennst die Antwort.","Cola Zero steht schon bereit. Petern.","iPad ist geladen. Die Welt kann warten.","Muss ich mit Anika absprechen â€¦ heisst: heute nein.","Ist gerade schwierig. Immer.","Social Battery leer. Klar petern.","Router kÃ¶nnte Probleme machen. Sicherheits-Petern.","Paket kommt vielleicht. Muss da sein. Petern.","Download lÃ¤uft noch. Kann nicht weg.","Bin mental schon im Bett. ZÃ¤hlt.","Habe da noch was offen. Immer.","Meld mich spÃ¤ter. Viel spÃ¤ter.","Irgendwann mal. Sicher nicht heute.","Klingt gut, aber â€¦ mal schauen. Heute: nein.","Je nachdem wie der Tag lÃ¤uft. Er lÃ¤uft zur Couch.","Bin noch nicht so weit. Werde ich auch nicht.","Will nichts versprechen. AuÃŸer: Couch.","Das geht sich heute nicht aus. Geht nie.","Mein KÃ¶rper sagt Nein. Ich hÃ¶re auf ihn.","Brauch einen Tag Pause. Von allem.","Zu viele Menschen diese Woche. Heute: null.","Couch-Flow. Bin drin. Rausgehen geht nicht.","Schon im Pyjama. Mental. ZÃ¤hlt doch.","Energie-Level: unter null. Petern-Level: hoch.","Terminkalender sagt: frei. Frei = Couch.","Kollegen verstehen das. Oder nicht. Egal.","NÃ¤chste Woche vielleicht. Bestimmt nicht.","Klingt anstrengend. Ist es. Petern.","Theo schlÃ¤ft? Perfekt. Petern-Zeit.","Anika fragt zwar â€“ aber die Couch sagt nein."];var yesEN=["Yes, today you should Peter. Couch wins.","Yes, Peter today! Staying home is the right choice.","Definitely Peter. Your inner couch potato is right.","Yes! Today the answer is: Peter.","98% say: Yes, Peter today. You're one of them.","He thinks about it. He looks at it. Classic Peter.","We'll see â€¦ says Peter. And stays on the couch.","Peter looks. Peter thinks. Peter Peters.","Typical Peter: quick think, then â€“ nah, better Peter.","Peter nods thoughtfully. Then: Not today. Couch calls.","Hmm â€¦ Peter considers. Peter decides: Peter.","Peter has looked at it. His verdict: Staying home is better.","After careful consideration: Yes, Peter today. People will understand.","Peter checks the option. Result: Couch wins. Again.","Peter looks at it. Peter thinks. Peter says: Nah, not today.","Classic Peter moment: think, look, then â€“ Peter.","Peter considers â€¦ and chooses as always: couch over activity.","Typical: Peter thinks about it, looks at it â€“ and stays home.","Peter has had a look. His verdict: Peter. Definitely.","We'll see, says Peter â€“ meaning: no. Peter today.","Peter analyzes. Peter decides. Peter Peters. As usual.","He looks at it, thinks â€“ and stays. Classic Peter.","Peter thinks: Hmm. Peter acts: Peter. Done.","After a brief moment: Peter stays. Couch 1, world 0.","Peter looks. Peter nods. Peter Peters. That's how it goes.","Couch calls. You know the answer.","Coke Zero is ready. Peter.","iPad is charged. The world can wait.","Need to check with Anika â€¦ means: no today.","It's tricky right now. Always.","Social battery empty. Clearly Peter.","Router might act up. Safety Peter.","Package might arrive. Need to be here. Peter.","Download still running. Can't leave.","Mentally already in bed. Counts.","Got something else pending. Always.","I'll get back to you later. Much later.","Someday. Definitely not today.","Sounds good, but â€¦ we'll see. Today: no.","Depends how the day goes. It goes to the couch.","Not quite there yet. Won't be either.","Don't want to promise. Except: couch.","Doesn't work out today. Never does.","My body says no. I'm listening.","Need a day off. From everything.","Too many people this week. Today: zero.","Couch flow. I'm in it. Can't leave.","Already in my PJs. Mentally. That counts.","Energy level: below zero. Peter level: high.","Calendar says: free. Free = couch.","People will understand. Or not. Don't care.","Maybe next week. Probably not.","Sounds exhausting. It is. Peter.","Theo's asleep? Perfect. Peter time.","Anika might ask â€“ but the couch says no."];var noDE=["Nein, heute nicht. Du darfst raus. Selten, aber heute ja.","Ausnahme! Heute sagt Peter: Du darfst. Nutze es.","Selten â€“ aber heute: Raus! Peter nickt zustimmend."];var noEN=["No, not today. You may go out. Rare, but today yes.","Exception! Today Peter says: You may go. Use it.","Rare â€“ but today: Go out! Peter nods in agreement."];var yesArr=l==="en"?yesEN:yesDE;var noArr=l==="en"?noEN:noDE;var text=petern?yesArr[Math.floor(Math.random()*yesArr.length)]:noArr[Math.floor(Math.random()*noArr.length)];var el=document.getElementById("pet-today-result");if(el){el.innerHTML='<p class="pet-today-answer '+(petern?"petern":"go")+'">\ud83c\udf6b <strong>'+(petern?(l==="en"?"Yes, Peter today!":"Ja, heute petern!"):(l==="en"?"No, not today.":"Nein, heute nicht."))+'</strong></p><p class="pet-today-text">'+text+'</p><p class="pet-today-activity">"'+act+'"</p>';el.classList.add("pet-today-done");}};}
  function handleClick(e){
    var t=e.target&&e.target.closest?e.target.closest("button"):null;
    if(!t)return;
    var a=t.getAttribute("data-action"),id=t.id,l=t.getAttribute("data-lang");
    if((a==="lang"||t.classList.contains("lang-btn"))&&l&&window.setPeternLang){window.setPeternLang(l);return;}
    if(t.classList.contains("collapse-trigger")){var cid=t.getAttribute("data-target")||id&&id.replace("btn-","")+"-content";if(cid){var c=document.getElementById(cid);if(c){var op=c.hidden;c.hidden=!op;t.setAttribute("aria-expanded",op);t.classList.toggle("open",op);}}return;}
    if(a==="alibi"||id==="btn-alibi"){if(window.generateAlibiSprachnachricht)window.generateAlibiSprachnachricht();return;}
    if(a==="peteritis"||id==="btn-peteritis"){if(window.runPeteritisCheck)window.runPeteritisCheck();return;}
    if(a==="peter-excuse"||id==="btn-peter-excuse"){if(window.runPeterExcuse)window.runPeterExcuse();return;}
    if(a==="pet-today"||id==="btn-pet-today"){if(window.onPetToday)window.onPetToday();return;}
    if(a==="decide"||id==="btn-decide"){if(window.onDecide)window.onDecide();return;}
    if(id==="btn-again"){var r=document.getElementById("result-section");if(r)r.classList.add("hidden");return;}
    if(id==="btn-copy"&&window.lastResult){navigator.clipboard.writeText(window.lastResult.copyText);return;}
    if(id==="btn-copy-alibi"&&window.lastAlibi){navigator.clipboard.writeText(window.lastAlibi);return;}
    if(a==="clear-history"||id==="btn-clear-history"){if(window.clearHistory)window.clearHistory();return;}
    if(a==="new-daily"||id==="btn-new-daily"){if(window.setNewDailyExcuse)window.setNewDailyExcuse();return;}
    if(a==="new-phrase"||id==="btn-standardphrase"){if(window.generateStandardphrase)window.generateStandardphrase();return;}
    if(a==="exit"||id==="btn-exit"){if(window.generateExitStrategy)window.generateExitStrategy();return;}
    if(a==="add-comment"||id==="btn-add-comment"){if(window.addComment){return;}var inp=document.getElementById("comment-input");var nameInp=document.getElementById("comment-name");var list=document.getElementById("comments-list");if(inp&&list){var t=inp.value.trim();if(!t)return;var nm=(nameInp&&nameInp.value.trim())||"";var key="petern-comments";var arr=[];try{arr=JSON.parse(localStorage.getItem(key)||"[]");}catch(x){}arr.push({text:t,name:nm,date:new Date().toISOString()});try{localStorage.setItem(key,JSON.stringify(arr));}catch(x){}inp.value="";if(nameInp)nameInp.value="";var l=document.documentElement.lang==="en"?"en":"de";var anon=l==="en"?"Anonymous":"Anonym";var empty=l==="en"?"No comments yet.":"Noch keine Kommentare.";var items=arr.slice().reverse().map(function(c){var d=c.date?new Date(c.date).toLocaleDateString(l==="en"?"en-GB":"de-DE",{day:"numeric",month:"short",year:"numeric"}):"";var disp=(c.name||"").trim()||anon;return'<div class="comment-item"><p class="comment-meta"><span class="anonymous">'+String(disp).replace(/</g,"&lt;").replace(/>/g,"&gt;")+'</span> Â· '+d+'</p><p class="comment-text">'+String(c.text).replace(/</g,"&lt;").replace(/>/g,"&gt;")+'</p></div>';});list.innerHTML=items.length?items.join(""):'<p class="comments-empty">'+empty+'</p>';}}return;}
    if(t.classList.contains("chip")&&t.dataset.activity){var pt=t.closest(".pet-today-chips");var i=document.getElementById(pt?"pet-today-activity":"activity");if(i)i.value=t.dataset.activity;}
  }
  function initDelegation(){document.addEventListener("click",handleClick,true);}
  if(document.readyState==="loading"){document.addEventListener("DOMContentLoaded",initDelegation);}else{initDelegation();}
  (function(){var list=document.getElementById("comments-list");var inp=document.getElementById("comment-input");var cnt=document.getElementById("comment-char-count");if(inp&&cnt)inp.addEventListener("input",function(){cnt.textContent=(inp.value||"").length;});if(list&&!window.renderComments){var arr=[];try{arr=JSON.parse(localStorage.getItem("petern-comments")||"[]");}catch(x){}var l=document.documentElement.lang==="en"?"en":"de";var anon=l==="en"?"Anonymous":"Anonym";var empty=l==="en"?"No comments yet. You could be the first â€“ anonymously.":"Noch keine Kommentare. Du kannst der erste sein â€“ anonym.";if(!arr.length){list.innerHTML='<p class="comments-empty">'+empty+'</p>';}else{list.innerHTML=arr.slice().reverse().map(function(c){var d=c.date?new Date(c.date).toLocaleDateString(l==="en"?"en-GB":"de-DE",{day:"numeric",month:"short",year:"numeric"}):"";var disp=(c.name||"").trim()||anon;return'<div class="comment-item"><p class="comment-meta"><span class="anonymous">'+String(disp).replace(/</g,"&lt;").replace(/>/g,"&gt;")+'</span> Â· '+d+'</p><p class="comment-text">'+String(c.text).replace(/</g,"&lt;").replace(/>/g,"&gt;")+'</p></div>';}).join("");}}})();
  })();
  </script>
</body>
</html>
