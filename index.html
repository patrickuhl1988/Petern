<!DOCTYPE html>
<html lang="de">
<!-- v2.0 - DE/EN -->
<head>
  <meta charset="UTF-8">
  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Heute Petern? â€“ Dein Entscheidungshelfer</title>
  <script>
  (function(){
    var t={de:{title:"ğŸ›‹ï¸ Heute Petern?",tagline:"Dein Entscheidungshelfer fuer den inneren Couch-Potato",whoIsPeter:"ğŸ‘¤ Wer ist Peter?",manual:"ğŸ“‹ Peter-Gebrauchsanweisung",whatsOn:"Was steht an?",activityPlaceholder:"z.B. Feiern, Sport, Kino, Treffen...",btnDecide:"Soll ich oder soll ich nicht?",quickSelect:"Schnellauswahl:",copyExcuse:"ğŸ“‹ Ausrede kopieren",decideAgain:"Nochmal entscheiden",alibiTitle:"ğŸ™ï¸ Ausreden-Bot â€“ Alibi-Sprachnachricht",alibiIntro:"Klick auf Sprachnachricht generieren â€“ dann hast du einen Text zum Vorlesen oder Senden.",generateAlibi:"ğŸ™ï¸ Sprachnachricht generieren",copy:"ğŸ“‹ Kopieren",historyTitle:"ğŸ“œ Letzte Entscheidungen",clearHistory:"Verlauf leeren",dailyTitle:"ğŸ² Petern des Tages",newDailyExcuse:"Neue Tages-Ausrede",phrasesTitle:"ğŸ’¬ Peter-Standardphrasen",phrasesIntro:"Mal schauen, Ich meld mich spaeter â€¦",newPhrase:"Neue Phrase",exitTitle:"ğŸšª Exit-Strategie (wenn du doch zugesagt hast)",exitIntro:"Bau dir eine Hintertuer ein.",generateExit:"Exit-Strategie generieren",peteritisTitle:"ğŸ©º Peteritis-Check",peteritisIntro:"Bin ich petern-krank?",measurePeteritis:"Peteritis messen",footer:"Mit 90 % Wahrscheinlichkeit sagt dir diese App, was du eh schon denkst. ğŸ›‹ï¸",manualIntro:"So erreichst du Peter (oder dich selbst):",manual1:"Druck rausnehmen â€“ wenn andere planen und keinen Druck machen, steigt die Teilnahmechance.",manual2:"Konkrete Termine vorschlagen â€“ er schlaegt selten selbst neue Daten vor.",manual3:"Annka und Leo einbeziehen â€“ wenn sie dabei sind, kommt er eher (dann aber zeitlich begrenzt).",manual4:"Nicht so lange akzeptieren â€“ dann baut er weniger Exit-Strategien ein.",manual5:"Gaming/Home-Aktivitaet anbieten â€“ geht eher, wenn es bequem und zu Hause ist.",manual6:"Bei neuem Grill / neuer Idee: schnell einen festen Termin machen, sonst versandet es.",manual7:"Sport/Fitness: Lauf ich morgen funktioniert nie. Besser: Komm mit mir JETZT zum Spaziergang.",manual8:"Feiern/Club: Einladung 2 Wochen vorher bringen wenig. Kurzfristig (2-3 Tage) fragen.",manual9:"Kino/Restaurant: Eigeninitiative zeigen â€“ Ich reservier fuer Freitag, du kommst mit?",manual10:"Wenn er sagt mal schauen: Nachfragen wann er sich meldet. Sonst kommt nichts.",manual11:"Gruppendruck nutzen: Alle kommen, auch Leo und Annka â€“ dann steigt die Chance.",manual12:"Feste Zeiten: Kurz von 15-17 Uhr geht besser als irgendwann am Wochenende.",manual13:"Alternative anbieten: Wenn nicht Kino, dann Spieleabend bei euch?",manual14:"Keine offenen Fragen: Statt Wollen wir mal was machen? lieber Samstag 14 Uhr Kaffee?",manual15:"Realistisch bleiben: 90 % Ausrede ist normal. 10 % Zusage feiern wie einen Sieg.",peter1:"Peter (*1987), Beamter (Polizist), verheiratet mit Annka, Vater von Leo (1) und Emilia (12). Verdient gut, achtet auf sein Auftreten â€“ und will bloss nicht negativ auffallen.",peter2:"Petern = geplantes Nichtstun: selten klares Ja/Nein. Standards: Mal schauen, Ich meld mich spaeter, Ist gerade schwierig. Liebt Couch, Cola Zero, iPad, ruhige Abende. Aktivitaeten existieren oft nur theoretisch.",peter3:"Typisch: 90 % Ausrede, 10 % Teilnahme. Wenn er zusagt: Exit-Strategien. Klassiker: Kind unruhig/krank, Annka gestresst, Erkaeltung, Spuelmaschine, Update, Arbeit, Muedigkeit. Technik-Ausreden besonders beliebt.",peter4:"Annka hat mehr Einfluss; Peter macht viel im Haushalt, ordnet sich oft unter. Wenn Annka und Leo dabei sind, kommt er eher â€“ dann aber zeitlich begrenzt. Eigene Einladungen selten, Absagen planbar. Frueher aktiv/sportlich, heute: Rennrad, Trips â€“ Irgendwann mal. Kein Boesewicht â€“ Meister des unverbindlichen Lebens. Natuerlicher Zustand: Couch + spaeter.",peter5:"Peteritis / Peteritis Maxima (fiktiv): Verbindlichkeitsvermeidung, spontane Erschoepfung vor Terminen. Heilbar nur durch Gruppendruck oder aussergewoehnliche Motivation.",chipL:["Feiern","Sport","Kino","Treffen","Frueh aufstehen","Einkaufen"],chipA:["Feiern gehen","Sport","Kino","Treffen mit Freunden","Frueh aufstehen","Einkaufen"]},en:{title:"ğŸ›‹ï¸ Petern Today?",tagline:"Your decision helper for the inner couch potato",whoIsPeter:"ğŸ‘¤ Who is Peter?",manual:"ğŸ“‹ Peter's User Manual",whatsOn:"What's on?",activityPlaceholder:"e.g. Party, Sports, Cinema, Meet-up...",btnDecide:"Should I or shouldn't I?",quickSelect:"Quick select:",copyExcuse:"ğŸ“‹ Copy excuse",decideAgain:"Decide again",alibiTitle:"ğŸ™ï¸ Excuse Bot â€“ Alibi Voice Message",alibiIntro:"Click Generate voice message â€“ then you have a text to read aloud or send.",generateAlibi:"ğŸ™ï¸ Generate voice message",copy:"ğŸ“‹ Copy",historyTitle:"ğŸ“œ Recent decisions",clearHistory:"Clear history",dailyTitle:"ğŸ² Petern of the day",newDailyExcuse:"New daily excuse",phrasesTitle:"ğŸ’¬ Peter's standard phrases",phrasesIntro:"We'll see, I'll let you know later â€¦",newPhrase:"New phrase",exitTitle:"ğŸšª Exit strategy (when you said yes)",exitIntro:"Build yourself a back door.",generateExit:"Generate exit strategy",peteritisTitle:"ğŸ©º Peteritis check",peteritisIntro:"Am I petern-sick?",measurePeteritis:"Measure Peteritis",footer:"With 90% probability, this app tells you what you were already thinking. ğŸ›‹ï¸",manualIntro:"How to reach Peter (or yourself):",manual1:"Reduce pressure â€“ when others plan and don't push, participation chance increases.",manual2:"Suggest concrete dates â€“ he rarely suggests new dates himself.",manual3:"Include Annka and Leo â€“ if they're coming, he's more likely (but time-limited).",manual4:"Accept not too long â€“ then he builds fewer exit strategies.",manual5:"Offer gaming/home activities â€“ more likely when it's comfortable and at home.",manual6:"New grill / new idea: quickly set a firm date, or it fizzles out.",manual7:"Sports: I'll run tomorrow never works. Better: Come with me NOW for a short walk.",manual8:"Parties: Invitations 2 weeks ahead don't help. Ask last-minute (2-3 days).",manual9:"Cinema/restaurant: Take initiative â€“ I'll book for Friday, you in?",manual10:"When he says we'll see: Ask when he'll get back. Otherwise nothing happens.",manual11:"Use peer pressure: Everyone's coming, Leo and Annka too.",manual12:"Fixed times: Quick visit 3-5 pm works better than sometime this weekend.",manual13:"Offer alternative: If not cinema, then game night at yours?",manual14:"No open questions: Instead of Want to do something? try Saturday 2 pm coffee?",manual15:"Stay realistic: 90% excuse is normal. Celebrate the 10% yes.",peter1:"Peter (*1987), civil servant (police officer), married to Annka, father of Leo (1) and Emilia (12). Earns well, cares about his appearance â€“ and just doesn't want to stand out negatively.",peter2:"Petern = planned inactivity: rarely a clear yes/no. Standards: We'll see, I'll let you know later, It's tricky right now. Loves couch, Coke Zero, iPad, quiet evenings. Activities often only exist in theory.",peter3:"Typical: 90% excuse, 10% participation. When he agrees: exit strategies. Classics: child restless/sick, Annka stressed, cold, dishwasher, update, work, fatigue. Tech excuses especially popular.",peter4:"Annka has more influence; Peter does a lot at home, often defers. When Annka and Leo are coming, he's more likely â€“ but time-limited. Own invitations rare, declining predictable. Used to be active/sporty, now: road bike, trips â€“ Someday. Not a villain â€“ Master of the non-committal life. Natural state: couch + later.",peter5:"Peteritis / Peteritis Maxima (fictional): commitment avoidance, spontaneous exhaustion before appointments. Curable only through peer pressure or extraordinary motivation.",chipL:["Party","Sports","Cinema","Meet-up","Early rise","Shopping"],chipA:["Going to a party","Sports","Cinema","Meeting friends","Getting up early","Shopping"]}};
    var lang="de";try{lang=localStorage.getItem("petern-lang")||"de";}catch(e){}
    window.setPeternLang=function(l){
      if(l!=="de"&&l!=="en")return;
      if(window.applyPeternTranslations){window.applyPeternTranslations(l);return;}
      lang=l;try{localStorage.setItem("petern-lang",l);}catch(e){}
      var s=t[l]||t.de;
      document.querySelectorAll("[data-i18n]").forEach(function(el){var k=el.getAttribute("data-i18n");if(s[k]!==undefined)el.textContent=s[k];});
      document.querySelectorAll("[data-i18n-placeholder]").forEach(function(el){var k=el.getAttribute("data-i18n-placeholder");if(s[k]!==undefined)el.placeholder=s[k];});
      document.documentElement.lang=l;document.title=l==="en"?"Petern Today? â€“ Your Decision Helper":"Heute Petern? â€“ Dein Entscheidungshelfer";
      document.querySelectorAll(".lang-btn").forEach(function(btn){btn.classList.toggle("active",btn.getAttribute("data-lang")===l);});
      var chips=document.querySelectorAll(".quick-activities .chip[data-i18n-chip]");
      var labels=s.chipL||t.de.chipL;
      var activities=s.chipA||t.de.chipA;
      if(labels&&activities)chips.forEach(function(c,i){if(labels[i]){c.textContent=labels[i];c.setAttribute("data-activity",activities[i]||labels[i]);}});
      if(window.setNewDailyExcuse){var de=document.getElementById("daily-excuse");if(de&&!de.textContent.trim())window.setNewDailyExcuse();}
      if(window.renderHistory){window.renderHistory();}else{var list=document.getElementById("history-list");if(list){try{var h=JSON.parse(localStorage.getItem("petern-history")||"[]");list.innerHTML=h.length?h.map(function(x){return"<li><strong>"+x.activity+"</strong> \u2192 "+(x.type==="petern"?"\ud83c\udf6b":"\ud83d\udc4d")+" "+x.text.slice(0,40)+"... ("+x.time+")</li>";}).join(""):"<li>"+(l==="en"?"No decisions yet.":"Noch keine Entscheidungen.")+"</li>";}catch(x){list.innerHTML="<li>"+(l==="en"?"No decisions yet.":"Noch keine Entscheidungen.")+"</li>";}}}
    };
    function applyLangOnLoad(){window.setPeternLang(lang);}
    if(document.readyState==="loading"){document.addEventListener("DOMContentLoaded",applyLangOnLoad);}else{setTimeout(applyLangOnLoad,0);}
  })();
  </script>
  <link rel="stylesheet" href="style.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700&display=swap" rel="stylesheet">
</head>
<body>
  <div class="couch-bg"></div>

  <main class="container">
    <header class="header">
      <div class="lang-switcher">
        <button type="button" class="lang-btn active" data-lang="de" data-action="lang" aria-label="Deutsch">DE</button>
        <span class="lang-sep">|</span>
        <button type="button" class="lang-btn" data-lang="en" data-action="lang" aria-label="English">EN</button>
      </div>
      <h1 data-i18n="title">ğŸ›‹ï¸ Heute Petern?</h1>
      <p class="tagline" data-i18n="tagline">Dein Entscheidungshelfer fÃ¼r den inneren Couch-Potato</p>
    </header>

    <section class="peter-section">
      <button type="button" class="collapse-trigger" id="btn-was-ist-petern" data-target="was-ist-petern-content" aria-expanded="false">
        <span data-i18n="peternWhatTitle">ğŸ›‹ï¸ Was ist â€Peternâ€œ?</span>
        <span class="collapse-icon" aria-hidden="true">â–¼</span>
      </button>
      <div class="collapse-content" id="was-ist-petern-content" hidden>
        <div class="petern-definition">
          <p data-i18n="peternWhatIntro">Wir kennen die Karens, die sofort eskalieren. Hier kommen die Peters â€“ Meister des hÃ¶flichen Nicht-Zusagens.</p>
          <p data-i18n="peternWhatDefinition">Petern bedeutet geplantes Nichtstun mit perfekter Ausrede. Statt klar Ja oder Nein zu sagen, wird verschoben, verwaschen und elegant vermieden.</p>
          <p data-i18n="peternWhatExamples">Typisch: Couch, â€mal schauenâ€œ, Exit-Strategien â€“ und am Ende doch daheimbleiben mit einer technisch klingenden Ausrede.</p>
        </div>
      </div>
    </section>

    <section class="peter-section">
      <button type="button" class="collapse-trigger" id="btn-wer-ist-peter" data-target="wer-ist-peter-content" aria-expanded="false">
        <span data-i18n="whoIsPeter">ğŸ‘¤ Wer ist Peter?</span>
        <span class="collapse-icon" aria-hidden="true">â–¼</span>
      </button>
      <div class="collapse-content" id="wer-ist-peter-content" hidden>
        <div class="peter-profile">
          <p data-i18n="peter1"></p>
          <p class="peter-sub" data-i18n="peter2"></p>
          <p class="peter-sub" data-i18n="peter3"></p>
          <p class="peter-sub" data-i18n="peter4"></p>
          <p class="peteritis" data-i18n="peter5"></p>
        </div>
      </div>
    </section>

    <section class="peter-section">
      <button type="button" class="collapse-trigger" id="btn-gebrauchsanweisung" data-target="gebrauchsanweisung-content" aria-expanded="false">
        <span data-i18n="manual">ğŸ“‹ Peter-Gebrauchsanweisung</span>
        <span class="collapse-icon" aria-hidden="true">â–¼</span>
      </button>
      <div class="collapse-content" id="gebrauchsanweisung-content" hidden>
        <div class="gebrauchsanweisung">
          <p><strong data-i18n="manualIntro">So erreichst du Peter (oder dich selbst):</strong></p>
          <ul>
            <li data-i18n="manual1"></li>
            <li data-i18n="manual2"></li>
            <li data-i18n="manual3"></li>
            <li data-i18n="manual4"></li>
            <li data-i18n="manual5"></li>
            <li data-i18n="manual6"></li>
            <li data-i18n="manual7"></li>
            <li data-i18n="manual8"></li>
            <li data-i18n="manual9"></li>
            <li data-i18n="manual10"></li>
            <li data-i18n="manual11"></li>
            <li data-i18n="manual12"></li>
            <li data-i18n="manual13"></li>
            <li data-i18n="manual14"></li>
            <li data-i18n="manual15"></li>
          </ul>
        </div>
      </div>
    </section>

    <section class="input-section">
      <label for="activity" data-i18n="whatsOn">Was steht an?</label>
      <div class="input-row">
        <input type="text" id="activity" data-i18n-placeholder="activityPlaceholder" placeholder="z.B. Feiern, Sport, Kino, Treffen..." autocomplete="off">
        <button type="button" id="btn-decide" class="btn btn-primary" data-action="decide" data-i18n="btnDecide">Soll ich oder soll ich nicht?</button>
      </div>
      <div class="quick-activities">
        <span class="quick-label" data-i18n="quickSelect">Schnellauswahl:</span>
        <button type="button" class="chip" data-i18n-chip="0" data-activity="Feiern gehen">Feiern</button>
        <button type="button" class="chip" data-i18n-chip="1" data-activity="Sport">Sport</button>
        <button type="button" class="chip" data-i18n-chip="2" data-activity="Kino">Kino</button>
        <button type="button" class="chip" data-i18n-chip="3" data-activity="Treffen mit Freunden">Treffen</button>
        <button type="button" class="chip" data-i18n-chip="4" data-activity="FrÃ¼h aufstehen">FrÃ¼h aufstehen</button>
        <button type="button" class="chip" data-i18n-chip="5" data-activity="Einkaufen">Einkaufen</button>
      </div>
    </section>

    <section class="result-section hidden" id="result-section">
      <div class="result-card" id="result-card">
        <div class="result-icon" id="result-icon"></div>
        <h2 id="result-title"></h2>
        <p class="result-text" id="result-text"></p>
        <p class="result-sub" id="result-sub"></p>
        <div class="petern-level" id="petern-level"></div>
        <div class="result-actions">
          <button type="button" class="btn btn-secondary" id="btn-copy" data-i18n="copyExcuse">ğŸ“‹ Ausrede kopieren</button>
          <button type="button" class="btn btn-secondary" id="btn-again" data-i18n="decideAgain">Nochmal entscheiden</button>
        </div>
      </div>
    </section>

    <section class="extras">
      <div class="extra-card ausreden-bot">
        <h3 data-i18n="alibiTitle">ğŸ™ï¸ Ausreden-Bot â€“ Alibi-Sprachnachricht</h3>
        <p class="alibi-text" id="alibi-text" data-i18n="alibiIntro">Klick auf â€Sprachnachricht generierenâ€œ â€“ dann hast du einen Text zum Vorlesen oder Senden.</p>
        <div class="alibi-actions">
          <button type="button" class="btn btn-primary" id="btn-alibi" data-i18n="generateAlibi" data-action="alibi">ğŸ™ï¸ Sprachnachricht generieren</button>
          <button type="button" class="btn btn-secondary" id="btn-copy-alibi" data-i18n="copy">ğŸ“‹ Kopieren</button>
        </div>
      </div>
      <div class="extra-card">
        <h3 data-i18n="historyTitle">ğŸ“œ Letzte Entscheidungen</h3>
        <ul id="history-list"></ul>
        <button type="button" class="btn btn-ghost" id="btn-clear-history" data-action="clear-history" data-i18n="clearHistory">Verlauf leeren</button>
      </div>
      <div class="extra-card">
        <h3 data-i18n="dailyTitle">ğŸ² Petern des Tages</h3>
        <p class="daily-excuse" id="daily-excuse"></p>
        <button type="button" class="btn btn-ghost" id="btn-new-daily" data-action="new-daily" data-i18n="newDailyExcuse">Neue Tages-Ausrede</button>
      </div>
      <div class="extra-card">
        <h3 data-i18n="phrasesTitle">ğŸ’¬ Peter-Standardphrasen</h3>
        <p class="standardphrase-text" id="standardphrase-text" data-i18n="phrasesIntro">â€Mal schauenâ€œ, â€Ich meld mich spÃ¤terâ€œ â€¦</p>
        <button type="button" class="btn btn-ghost" id="btn-standardphrase" data-action="new-phrase" data-i18n="newPhrase">Neue Phrase</button>
      </div>
      <div class="extra-card">
        <h3 data-i18n="exitTitle">ğŸšª Exit-Strategie (wenn du doch zugesagt hast)</h3>
        <p class="exit-strategy-text" id="exit-strategy-text" data-i18n="exitIntro">Bau dir eine HintertÃ¼r ein.</p>
        <button type="button" class="btn btn-ghost" id="btn-exit" data-action="exit" data-i18n="generateExit">Exit-Strategie generieren</button>
      </div>
      <div class="extra-card peteritis-card">
        <h3 data-i18n="peteritisTitle">ğŸ©º Peteritis-Check</h3>
        <div class="peteritis-result" id="peteritis-result" data-i18n="peteritisIntro">Bin ich petern-krank?</div>
        <button type="button" class="btn btn-primary" id="btn-peteritis" data-i18n="measurePeteritis" data-action="peteritis">Peteritis messen</button>
      </div>
    </section>

    <footer class="footer">
      <p data-i18n="footer">Mit 90 % Wahrscheinlichkeit sagt dir diese App, was du eh schon denkst. ğŸ›‹ï¸</p>
    </footer>
  </main>

  <script src="script.js?v=12"></script>
  <script>
  (function(){
  var lang=document.documentElement.lang==="en"?"en":"de";
  var EXIT_DE=["Nicht so lange vielleicht.","Je nachdem wie Leo drauf ist.","Ich schau, dass ich mal vorbeikomme."];
  var EXIT_EN=["Maybe not for too long.","Depends how Leo is doing.","I will try to swing by."];
  var ALIBI_DE=["Hey, sorry â€¦ bin heute total durch. Naechstes Mal?","Aehm, ich bleib heute lieber daheim. Sorry!","Hey! Irgendwas ist dazwischengekommen. Bis bald!"];
  var ALIBI_EN=["Hey, sorry â€¦ I'm totally drained today. Next time?","Um, I'll stay home today. Sorry!","Hey! Something came up. See you soon!"];
  var PHRASE_DE=["Mal schauen.","Ich meld mich spaeter.","Ist gerade schwierig."];
  var PHRASE_EN=["We'll see.","I'll let you know later.","It's tricky right now."];
  var AUSREDE_DE=["Bin heute komplett durch.","Morgen vielleicht?","Hab grad keine Energie.","Couch gewinnt heute."];
  var AUSREDE_EN=["I'm completely drained today.","Maybe tomorrow?","Zero energy right now.","Couch wins today."];
  if(!window.generateExitStrategy){window.generateExitStrategy=function(){var el=document.getElementById("exit-strategy-text");var l=document.documentElement.lang==="en"?"en":"de";if(el)el.textContent=(l==="en"?EXIT_EN:EXIT_DE)[Math.floor(Math.random()*3)];};}
  if(!window.runPeteritisCheck){window.runPeteritisCheck=function(){var el=document.getElementById("peteritis-result");if(el){el.textContent="Peteritis Maxima! Couch + spaeter = natuerlicher Zustand.";el.classList.add("peteritis-done");}};}
  if(!window.generateAlibiSprachnachricht){window.generateAlibiSprachnachricht=function(){var el=document.getElementById("alibi-text");var l=document.documentElement.lang==="en"?"en":"de";var arr=l==="en"?ALIBI_EN:ALIBI_DE;window.lastAlibi=arr[Math.floor(Math.random()*arr.length)];if(el){el.textContent=window.lastAlibi;el.classList.add("alibi-generated");}};}
  if(!window.generateStandardphrase){window.generateStandardphrase=function(){var el=document.getElementById("standardphrase-text");var l=document.documentElement.lang==="en"?"en":"de";if(el)el.textContent=(l==="en"?PHRASE_EN:PHRASE_DE)[Math.floor(Math.random()*3)];};}
  if(!window.setNewDailyExcuse){window.setNewDailyExcuse=function(){var el=document.getElementById("daily-excuse");var l=document.documentElement.lang==="en"?"en":"de";var arr=l==="en"?AUSREDE_EN:AUSREDE_DE;var exc=arr[Math.floor(Math.random()*arr.length)];if(el)el.textContent=exc;try{localStorage.setItem("petern-daily",exc);}catch(x){};};}
  if(!window.clearHistory){window.clearHistory=function(){try{localStorage.setItem("petern-history","[]");}catch(x){};var list=document.getElementById("history-list");var l=document.documentElement.lang==="en"?"en":"de";if(list)list.innerHTML="<li>"+(l==="en"?"No decisions yet.":"Noch keine Entscheidungen.")+"</li>";};}
  if(!window.onDecide){window.onDecide=function(){var inp=document.getElementById("activity");var t=inp&&inp.value.trim()||(document.documentElement.lang==="en"?"something":"irgendwas");var l=document.documentElement.lang==="en"?"en":"de";var arr=l==="en"?AUSREDE_EN:AUSREDE_DE;var petern=Math.random()<0.9;var text=petern?arr[Math.floor(Math.random()*arr.length)]:(l==="en"?"Okay, you can go. See you on the couch later.":"Okay, du darfst. Wir sehen uns auf der Couch.");window.lastResult={copyText:text};var sec=document.getElementById("result-section");var card=document.getElementById("result-card");var icon=document.getElementById("result-icon");var title=document.getElementById("result-title");var txt=document.getElementById("result-text");var sub=document.getElementById("result-sub");var lvl=document.getElementById("petern-level");if(sec){sec.classList.remove("hidden");}if(card){card.classList.remove("petern","go");card.classList.add(petern?"petern":"go");}if(icon)icon.textContent=petern?"\ud83c\udf6b":"\ud83d\udc4d";if(title)title.textContent=petern?(l==="en"?"Better not.":"Lieber nicht."):(l==="en"?"You're allowed.":"Darfst du.");if(txt)txt.textContent=text;if(sub)sub.textContent='"'+t+'" â€“ '+(petern?(l==="en"?"Better not.":"Lieber nicht."):(l==="en"?"You're allowed.":"Darfst du."));if(lvl){lvl.textContent=petern?(l==="en"?"Petern-Level: Couch King":"Petern-Level: Couch-Koenig"):"";lvl.style.display=petern?"block":"none";}};}
  function handleClick(e){
    var t=e.target&&e.target.closest?e.target.closest("button"):null;
    if(!t)return;
    var a=t.getAttribute("data-action"),id=t.id,l=t.getAttribute("data-lang");
    if((a==="lang"||t.classList.contains("lang-btn"))&&l&&window.setPeternLang){window.setPeternLang(l);return;}
    if(t.classList.contains("collapse-trigger")){var cid=t.getAttribute("data-target")||id&&id.replace("btn-","")+"-content";if(cid){var c=document.getElementById(cid);if(c){var op=c.hidden;c.hidden=!op;t.setAttribute("aria-expanded",op);t.classList.toggle("open",op);}}return;}
    if(a==="alibi"||id==="btn-alibi"){if(window.generateAlibiSprachnachricht)window.generateAlibiSprachnachricht();return;}
    if(a==="peteritis"||id==="btn-peteritis"){if(window.runPeteritisCheck)window.runPeteritisCheck();return;}
    if(a==="decide"||id==="btn-decide"){if(window.onDecide)window.onDecide();return;}
    if(id==="btn-again"){var r=document.getElementById("result-section");if(r)r.classList.add("hidden");return;}
    if(id==="btn-copy"&&window.lastResult){navigator.clipboard.writeText(window.lastResult.copyText);return;}
    if(id==="btn-copy-alibi"&&window.lastAlibi){navigator.clipboard.writeText(window.lastAlibi);return;}
    if(a==="clear-history"||id==="btn-clear-history"){if(window.clearHistory)window.clearHistory();return;}
    if(a==="new-daily"||id==="btn-new-daily"){if(window.setNewDailyExcuse)window.setNewDailyExcuse();return;}
    if(a==="new-phrase"||id==="btn-standardphrase"){if(window.generateStandardphrase)window.generateStandardphrase();return;}
    if(a==="exit"||id==="btn-exit"){if(window.generateExitStrategy)window.generateExitStrategy();return;}
    if(t.classList.contains("chip")&&t.dataset.activity){var i=document.getElementById("activity");if(i)i.value=t.dataset.activity;}
  }
  function initDelegation(){document.addEventListener("click",handleClick,true);}
  if(document.readyState==="loading"){document.addEventListener("DOMContentLoaded",initDelegation);}else{initDelegation();}
  })();
  </script>
</body>
</html>
